<!DOCTYPE html>
<html>

<head>
	<title>JavaScript for cookies!</title>
</head>

<body>
	<script>
		// <!-- hide body's javascript code in case browser doesn't support js
		
		var input = document.createElement("input");
		console.log(typeof input);
		input.id = "name";
		input.name = "name";
		input.type = "text";
		input.onblur = function () {console.log("onblur");};
		input.onclick = function () {console.log("onclick"); document.getElementById("echo").appendChild(document.createTextNode("OK!"));};
		input.onmouseover = function () {console.log("onmouseover");};
		document.body.appendChild(input);
		
		var echo = document.createElement("span");
		echo.id = "echo";
		document.body.appendChild(echo);
		
		
		function getCookie(name)
		{
			var cookieName = name.value
			var allCookies = document.cookie.split(";");
			
			var cookieData = "";
			
			for (var i=0; i < allCookies.length; ++i)
			{
				if ( (allCookies[i].indexOf(cookieName)) !== -1 )
				{
					// var match = allCookies[i].replace(" ", "");
					// cookieData = match.substr((cookieName.length+1));
					cookieData = allCookies;
					console.log(cookieName, " ", cookieData);
				}
			}
		}
		
		function createCookie(newCookie)
		{
			var expDate = new Date();
			
			expDate.setMonth(expDate.getMonth()+1);
			var cookieVal = document.getElementById(newCookie).value;
			document.cookie = newCookie + "=" + cookieVal + "; path=/; expires=" + expDate.toUTCString();
		}
		
		function deleteCookie()
		{
			var cookieToDel = document.getElementById("deleteCookie").value;
			createCookie(cookieToDel, "", -1);
		}
		
		// --> end of hiding javascript code
	</script>
	<noscript>
		<h3>bR3w$ki3s, you need JavaScript to s33 this!</h3>
	</noscript>

	<p>Enter your first name
		<input type="text" id="firstName" onblur="createCookie('firstName');" />
		<br/>
	</p>
	<p>Enter your last name
		<input type="text" id="lastName" onblur="createCookie('lastName');" />
		<br/>
	</p>
	<p>Cookie to delete
		<input type="text" id="deleteCookie" onblur="deleteCookie();" />
		<br/>
	</p>
	<p>Cookie to get
		<input type="text" id="getCookie" onblur="getCookie(this);" />
		<br/>
	</p>

	<script>
		// <!--
		document.write("Every Cookie: ", document.cookie);
		// -->
	</script>
		

</body>

</html>